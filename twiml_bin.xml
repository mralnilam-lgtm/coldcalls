<?xml version="1.0" encoding="UTF-8"?>
<!--
⚠️  ATENÇÃO: Este arquivo é apenas para referência.
    Para filtrar chamadas de caixa postal, use a Twilio Function em twilio_function.js

TwiML BÁSICO (sem filtro de voicemail):
- Transfere TODAS as chamadas, incluindo caixas postais
- Use apenas para testes ou se não precisar filtrar voicemail
-->

<Response>
    <Dial callerId="{{From}}" timeout="30">
        <Number>SEU_NUMERO_3CX_AQUI</Number>
    </Dial>
</Response>

<!--
IMPORTANTE: Para transferir apenas chamadas atendidas por HUMANOS:

1. Use a Twilio Function (twilio_function.js) em vez deste TwiML Bin
2. O script cold_calls.py já está configurado com Answering Machine Detection (AMD)
3. A função verifica o parâmetro AnsweredBy e só transfere se for "human"

CONFIGURAÇÃO DA TWILIO FUNCTION:
1. Acesse https://www.twilio.com/console/functions/overview
2. Crie um novo Service
3. Adicione uma Function com o código de twilio_function.js
4. Configure a variável NUMERO_3CX nas Environment Variables
5. Deploy e use a URL da função como TWIML_BIN_URL

EXPLICAÇÃO DOS PARÂMETROS AMD (em cold_calls.py):

machine_detection='Enable'
  - Ativa detecção de máquina/voicemail

machine_detection_timeout=5
  - Segundos para detectar (padrão: 30, reduzido para 5)

machine_detection_speech_threshold=2400
  - Milissegundos de fala para considerar máquina

machine_detection_speech_end_threshold=1200
  - Silêncio após fala para considerar fim da mensagem

machine_detection_silence_timeout=5000
  - Timeout de silêncio inicial
-->
